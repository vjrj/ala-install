########################################################################################################################
#
# Spatial inventory for setting up the spatial LA stack (spatial portal, spatial services, geoserver, geonetwork).
#
# Note: Before this is ran, 'spatial.{{cookiecutter.LA_domain}}' should resolve in DNS either by using a
# Domain Name System (DNS) web service (e.g. Route53) or by adding an entry into /etc/hosts of the
# target VM.
#
# To use this, run the following command.
#
# ansible-playbook --private-key ~/.ssh/MyKey.pem -u ubuntu -s -i {{cookiecutter.LA_pkg_name}}/inventories/workshop/spatial-livingatlas.yml ansible/spatial.yml
#
########################################################################################################################

[spatial]
spatial.{{cookiecutter.LA_domain}}

[geoserver]
spatial.{{cookiecutter.LA_domain}}

[geonetwork]
spatial.{{cookiecutter.LA_domain}}

[spatial-hub]
spatial.{{cookiecutter.LA_domain}}

[spatial-service]
spatial.{{cookiecutter.LA_domain}}

###
# Geoserver
###

[geoserver:vars]
is_vagrant=false
local_repo_dir=~/.ala
data_dir=/data

geoserver_hostname=spatial.{{cookiecutter.LA_domain}}
geoserver_url={{cookiecutter.LA_urls_prefix}}spatial.{{cookiecutter.LA_domain}}/geoserver
geoserver_base_url={{cookiecutter.LA_urls_prefix}}spatial.{{cookiecutter.LA_domain}}
geoserver_context_path=/geoserver
geoserver_app=geoserver

geoserver_username=admin
geoserver_password=geoserver

layers_db_host=localhost
layers_db_port=5432
layers_db_name=layersdb
layers_db_username=postgres
layers_db_password=password

postgresql_host=localhost
postgresql_port=5432
postgresql_database=layersdb
postgresql_username=postgres
postgresql_password=password

webserver_nginx=true
robots_disallow_paths=["/ws", "/geoserver", "/geonetwork"]
robots_disallow_useragents=["SemrushBot", "Mappy", "BUbiNG"]

ssl=false

###
# Geonetwork
###

[geonetwork:vars]
is_vagrant=true
local_repo_dir=~/.ala
data_dir=/data

geonetwork_hostname=spatial.{{cookiecutter.LA_domain}}
geonetwork_url={{cookiecutter.LA_urls_prefix}}spatial.{{cookiecutter.LA_domain}}/geonetwork
geonetwork_base_url={{cookiecutter.LA_urls_prefix}}spatial.{{cookiecutter.LA_domain}}
geonetwork_context_path=/geonetwork
geonetwork_app=geonetwork

geonetwork_username=admin
geonetwork_password=password
geonetwork_database=geonetwork
geonetwork_db_username=postgres
geonetwork_db_password=password

layers_db_host=localhost
layers_db_port=5432
layers_db_name=layersdb
layers_db_username=postgres
layers_db_password=password

postgresql_host=localhost
postgresql_port=5432
postgresql_database=layersdb
postgresql_username=postgres
postgresql_password=password

webserver_nginx=true
robots_disallow_paths=["/ws", "/geoserver", "/geonetwork"]
robots_disallow_useragents=["SemrushBot", "Mappy", "BUbiNG"]

ssl=false

###
# Spatial service
###

[spatial-service:vars]
is_vagrant=true
local_repo_dir=~/.ala
data_dir=/data

orgNameLong = {{cookiecutter.LA_project_name}}
orgNameShort = {{cookiecutter.LA_project_name}}

spatial_service_hostname=spatial.{{cookiecutter.LA_domain}}
spatial_service_url={{cookiecutter.LA_urls_prefix}}spatial.{{cookiecutter.LA_domain}}/ws
spatial_service_base_url={{cookiecutter.LA_urls_prefix}}spatial.{{cookiecutter.LA_domain}}
spatial_service_context_path=/ws

layers_service_url={{cookiecutter.LA_urls_prefix}}spatial.{{cookiecutter.LA_domain}}/ws
biocache_service_url={{cookiecutter.LA_urls_prefix}}demo.{{cookiecutter.LA_domain}}/biocache-service

layers_db_host=localhost
layers_db_port=5432
layers_db_name=layersdb
layers_db_username=postgres
layers_db_password=password

postgresql_host=localhost
postgresql_port=5432
postgresql_database=layersdb
postgresql_username=postgres
postgresql_password=password

spatial_service_api_key=get-me-an-api-key
spatial_service_slave_key=create-shared-key
spatial_service_service_key=create-shared-key

slave_enable=true
service_enable=true

spatial_service_remote_url=https://nectar-spatial-staging.ala.org.au/spatial-service

auth_base_url = https://{{cookiecutter.LA_cas_hostname}}
auth_cas_url = https://{{cookiecutter.LA_cas_hostname}}/cas

webserver_nginx=true
robots_disallow_paths=["/ws", "/geoserver", "/geonetwork"]
robots_disallow_useragents=["SemrushBot", "Mappy", "BUbiNG"]

ssl=false

###
# Spatial hub
###

[spatial-hub:vars]
is_vagrant=true
local_repo_dir=~/.ala
data_dir=/data

startup_lat = 0
startup_lng = 0
startup_zoom = 2

spatial_hub_skin_layout=generic
spatial_hub_hostname=spatial.{{cookiecutter.LA_domain}}
spatial_hub_url={{cookiecutter.LA_urls_prefix}}spatial.{{cookiecutter.LA_domain}}/
spatial_hub_base_url={{cookiecutter.LA_urls_prefix}}spatial.{{cookiecutter.LA_domain}}
spatial_hub_context_path=/

layers_service_url={{cookiecutter.LA_urls_prefix}}spatial.{{cookiecutter.LA_domain}}/ws
geoserver_url={{cookiecutter.LA_urls_prefix}}spatial.{{cookiecutter.LA_domain}}/geoserver

sandbox_url={{cookiecutter.LA_urls_prefix}}sandbox.{{cookiecutter.LA_domain}}/ala-hub
sandbox_ui_url={{cookiecutter.LA_urls_prefix}}sandbox.{{cookiecutter.LA_domain}}/datacheck
sandbox_biocache_service_url={{cookiecutter.LA_urls_prefix}}sandbox.{{cookiecutter.LA_domain}}/biocache-service

google_api_key=get-a-google-api-key
spatial_hub_api_key=get-an-ala-api-key

tomcat_java_opts = -Xmx4g -Xms4g -Xss256k -Djava.awt.headless=true

webserver_nginx=true
robots_disallow_paths=["/ws", "/geoserver", "/geonetwork"]
robots_disallow_useragents=["SemrushBot", "Mappy", "BUbiNG"]

ssl=false

nginx_client_max_body_size=120m


##
# Other components
##

bie_base_url = {{cookiecutter.LA_urls_prefix}}{{cookiecutter.LA_ala_bie_hostname}}{{cookiecutter.LA_ala_bie_path}}
bie_service_base_url = {{cookiecutter.LA_urls_prefix}}{{cookiecutter.LA_bie_index_hostname}}{{cookiecutter.LA_bie_index_path}}
favicon_url=https://www.gbif.org/favicon-16x16.png
collectory_url={{cookiecutter.LA_urls_prefix}}{{cookiecutter.LA_collectory_hostname}}{{cookiecutter.LA_collectory_path}}
biocache_url={{cookiecutter.LA_urls_prefix}}{{cookiecutter.LA_ala_hub_hostname}}{{cookiecutter.LA_ala_hub_path}}
biocache_service_url = {{cookiecutter.LA_urls_prefix}}{{cookiecutter.LA_biocache_service_hostname}}{{cookiecutter.LA_biocache_service_path}}
sampling_url={{cookiecutter.LA_urls_prefix}}spatial.{{cookiecutter.LA_domain}}/ws
